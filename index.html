<!DOCTYPE html>
<html>
<head>
    <title>Hello!</title>
    <style type="text/css">
        .outer {
            display: table;
            position: absolute;
            height: 100%;
            width: 100%;
        }

        .middle {
            display: table-cell;
            vertical-align: middle;
        }

        .inner {
            margin-left: auto;
            margin-right: auto;
            width: 700px;
        }

    </style>
</head>
<body>

<div class="outer" style="background:black">
    <div class="middle">
        <div class="inner" style="width:700px; margin:0 auto;background:black">
            <canvas id="canvas-container" width="700" height="700"></canvas>
        </div>
    </div>
</div>

<script type="text/javascript">

    var canvas = document.getElementById('canvas-container');
    var context = canvas.getContext('2d');

    var centerX = canvas.width / 2;
    var centerY = canvas.height / 2;

    context.globalCompositeOperation = 'screen';
    var alpha = 1;
    var circles = [];

    for (var i = 0; i < 10; i++) {
        var color = '#' + Math.floor(Math.random() * 16777215).toString(16);
        var scaleX = getRandom(0.8, 1.1);
        var scaleY = getRandom(0.8, 1.1);
        circles[i] = new Circle(centerX, centerY, scaleX, scaleY, 0.8, color);
    }

    window.requestAnimationFrame(draw);

    function draw() {
        context.clearRect(0, 0, 700, 700);

        for (var i = 0; i < circles.length; i++) {
            circles[i].onDraw(context);
        }


        window.requestAnimationFrame(draw);
    }

    function drawCircle(context, x, y, scaleX, scaleY, alpha, color) {

    }

    function Circle(x, y, scaleX, scaleY, alpha, color) {

        var maxScaleY = 1.1;
        var minScaleY = 0.9;
        var yDirection = Math.random() > 0.5 ? 1 : -1;
        var currentScaleY = getRandom(minScaleY, maxScaleY);


        var maxScaleX = 1.1;
        var minScaleX = 0.9;
        var xDirection = Math.random() > 0.5 ? 1 : -1;
        var currentScaleX = getRandom(minScaleX, maxScaleX);

        var scaleRateX = getRandom(0.0009, 0.001);
        var scaleRateY = getRandom(0.0009, 0.001);

        this.onDraw = function (context) {
            context.save();
            context.beginPath();
            context.setTransform(1, 0, 0, 1, x, y);
//            context.translate(x, y);
            context.scale(currentScaleX, currentScaleY);
            context.arc(0, 0, 100, 0, 2 * Math.PI);
            context.globalAlpha = alpha;
            context.fillStyle = color;
            context.fill();
            context.restore();

            currentScaleX += scaleRateX * xDirection;
            if (currentScaleX >= maxScaleX)xDirection = -1;
            else if (currentScaleX <= minScaleX) xDirection = 1;

            currentScaleY += scaleRateY * yDirection;
            if (currentScaleY >= maxScaleY)yDirection = -1;
            else if (currentScaleY <= minScaleY) yDirection = 1;
        }
    }

    function getRandom(min, max) {
        return Math.random() * (max - min) + min;
    }

</script>

</body>
</html>